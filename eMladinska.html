<!DOCTYPE html>
<html lang="sl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>e-Mladinska</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            text-align: center;
        }
        .hidden { display: none; }
        .menu {
            background-color: #333;
            color: white;
            padding: 10px;
            display: flex;
            justify-content: center;
            gap: 20px;
            position: fixed;
            width: 100%;
            top: 0;
            left: 0;
        }
        .menu button {
            background: none;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        .container { margin-top: 120px; padding: 20px; text-align: center; }
        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
            z-index: 10;
            width: 400px;
            max-height: 400px;
            overflow-y: auto;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 5;
        }
        table {
            width: 80%;
            margin: auto;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid black;
            padding: 30px;
            text-align: left;
            cursor: pointer;
            text-align: center;
            height: 70px;
        }
        th { font-weight: bold; }
        .legend {
            position: fixed;
            bottom: 30px;
            left: 10px;
            font-size: 14px;
            background: white;
            padding: 5px;
        }
        .green { color: green; font-weight: bold; }
        .black { color: black; font-weight: bold; }
        .red { color: red; font-weight: bold; }
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #333;
            color: white;
            padding: 10px;
            font-size: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .group-select {
            font-weight: bold;
        }
        .name-list { margin-bottom: 10px; }
        .name-item { font-weight: bold; cursor: pointer; padding: 5px; }
        .name-item.selected { color: green; font-weight: bold; }
        #response-time {
            font-size: 14px;
        }
        .event-details {
            margin-top: 10px;
        }
        .event-info {
            margin-bottom: 10px;
            padding: 5px;
        }
        .event-delete-btn {
            background-color: red;
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
        }
        .event-delete-btn:hover {
            background-color: darkred;
        }
        .month-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 50px;
            flex-wrap: wrap;
        }
        .month-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            margin-bottom: 10px;
        }
        .month-button:hover {
            background-color: #45a049;
        }
        .month-button:active {
            background-color: #357a38;
        }
        .meeting-list {
            margin-top: 30px;
            text-align: left;
            font-size: 14px;
        }
        .meeting-item {
            margin-bottom: 10px;
            cursor: pointer;
            position: relative;
        }
        .meeting-item:hover .tooltip {
            display: block;
        }
        .tooltip {
            display: none;
            position: absolute;
            top: -25px;
            left: 100%;
            margin-left: 5px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px;
            border-radius: 5px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div id="login-screen">
        <h2>Prijava</h2>
        <input type="text" id="username" placeholder="Uporabniško ime"><br><br>
        <input type="password" id="password" placeholder="Geslo"><br><br>
        <button onclick="login()">Prijava</button>
    </div>

    <div id="main-content" class="hidden">
        <div class="menu">
            <button onclick="showHome()">DOMOV</button>
            <button onclick="logout()">ODJAVA</button>
        </div>
        <div class="container" id="home-page">
            <img src="e - Mladinska.png">
            <h2>Izberi mesec</h2>
            <div class="month-buttons">
                <button class="month-button" onclick="showMeetingsPage(1)">Januar</button>
                <button class="month-button" onclick="showMeetingsPage(2)">Februar</button>
                <button class="month-button" onclick="showMeetingsPage(3)">Marec</button>
                <button class="month-button" onclick="showMeetingsPage(4)">April</button>
                <button class="month-button" onclick="showMeetingsPage(5)">Maj</button>
                <button class="month-button" onclick="showMeetingsPage(6)">Junij</button>
                <button class="month-button" onclick="showMeetingsPage(7)">Julij</button>
                <button class="month-button" onclick="showMeetingsPage(8)">Avgust</button>
                <button class="month-button" onclick="showMeetingsPage(9)">September</button>
                <button class="month-button" onclick="showMeetingsPage(10)">Oktober</button>
                <button class="month-button" onclick="showMeetingsPage(11)">November</button>
                <button class="month-button" onclick="showMeetingsPage(12)">December</button>
            </div>
            <button onclick="openNewMeetingModal()">Vpiši srečanje</button>
        </div>
        <div id="meetings-page" class="hidden">
            <h2>Srečanja za <span id="month-name"></span></h2>
            <div id="meetings-list"></div>
        </div>
    </div>

    <div id="group-modal" class="modal hidden">
        <h3 class="group-select">Izberi Skupino</h3>
        <p>Skupine so informirane na podlagi Messenger skupine.</p>
        <button onclick="selectGroup('STAREJŠA MLADINSKA SKUPINA')">STAREJŠA MLADINSKA SKUPINA</button>
        <button onclick="closeGroupModal()">Zapri</button>
    </div>

    <div id="meeting-modal" class="modal hidden">
        <h2><strong>VPIŠI SREČANJE</strong></h2>
        <p>Datum: <input type="date" id="meeting-date" /></p>
        <div class="name-list">
            <div id="name-list"></div>
        </div>
        <textarea id="notes" placeholder="Opombe..."></textarea><br><br>
        <button onclick="saveMeeting()">Shrani srečanje</button>
        <button onclick="closeMeetingModal()">Zapri</button>
    </div>

    <footer>
        <div>© e-Mladinska, vse pravice pridržane</div>
        <div> Verzija 1.3.0 </div>
        <div id="response-time">Čas prijave: <span id="remaining-time">180</span> sekund</div>
    </footer>

    <script>
        let currentUser = null;
        let timerInterval;
        let loginTime;
        let selectedGroup = '';
        const groupMembers = {
            'STAREJŠA MLADINSKA SKUPINA': [
                'Ana Grabner', 'Brina Sever', 'Cvetka Žlof', 'Dominik Pačnik', 'Ema Jevšenak', 'Gal Mihelič',
                'Hana Čehovin', 'Iza Vitas', 'Jan Jeraj', 'Jure Novak', 'Lana Kregar', 'Lina Vesenjak', 'Luka Božič',
                'Neža Možič', 'Patricija Zajec', 'Tjaša Rozman', 'Tina Brence', 'Vid Jemec', 'Vid Videmšek', 'Staš Škrinjar',
                'Tjaša Podlesek', 'Vid Ferlic', 'Žiga Petrinjak'
            ]
        };

        const meetings = {
            1: [],
            2: [],
            3: [],
            4: [],
            5: [],
            6: [],
            7: [],
            8: [],
            9: [],
            10: [],
            11: [],
            12: []
        };

        function login() {
            currentUser = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            if (currentUser && password) {
                loginTime = Date.now();
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('main-content').classList.remove('hidden');
                startTimer();
            } else {
                alert('Prosimo, izpolnite vsa polja.');
            }
        }

        function logout() {
            document.getElementById('main-content').classList.add('hidden');
            document.getElementById('login-screen').classList.remove('hidden');
        }

        function startTimer() {
            timerInterval = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            const elapsedTime = Math.floor((Date.now() - loginTime) / 1000);
            const remainingTime = Math.max(180 - elapsedTime, 0);
            document.getElementById('remaining-time').textContent = remainingTime;
            if (remainingTime === 0) {
                logout();
            }
        }

        function showHome() {
            document.getElementById('home-page').classList.remove('hidden');
            document.getElementById('meetings-page').classList.add('hidden');
        }

        function showMeetingsPage(month) {
            document.getElementById('month-name').textContent = new Date(2025, month - 1).toLocaleString('sl-SI', { month: 'long' });
            const meetingList = meetings[month];
            const meetingListDiv = document.getElementById('meetings-list');
            meetingListDiv.innerHTML = ''; 
            meetingList.forEach((meeting, index) => {
                const div = document.createElement('div');
                div.classList.add('meeting-item');
                div.textContent = `${meeting.date}: ${meeting.group}`;
                const tooltip = document.createElement('div');
                tooltip.classList.add('tooltip');
                tooltip.textContent = `Vpisal: ${meeting.enteredBy} | Datum vnosa: ${meeting.enteredAt}`;
                div.appendChild(tooltip);
                div.onclick = () => viewMeeting(index, month);
                meetingListDiv.appendChild(div);
            });
            document.getElementById('meetings-page').classList.remove('hidden');
            document.getElementById('home-page').classList.add('hidden');
        }

        function openNewMeetingModal() {
            document.getElementById('meeting-modal').classList.remove('hidden');
            openGroupModal();
        }

        function closeMeetingModal() {
            document.getElementById('meeting-modal').classList.add('hidden');
        }

        function openGroupModal() {
            document.getElementById('group-modal').classList.remove('hidden');
        }

        function closeGroupModal() {
            document.getElementById('group-modal').classList.add('hidden');
        }

        function selectGroup(group) {
            selectedGroup = group;
            document.getElementById('group-modal').classList.add('hidden');
            const nameListDiv = document.getElementById('name-list');
            nameListDiv.innerHTML = ''; 
            groupMembers[group].forEach(member => {
                const div = document.createElement('div');
                div.classList.add('name-item');
                div.textContent = member;
                div.onclick = () => {
                    div.classList.toggle('selected');
                };
                nameListDiv.appendChild(div);
            });
        }

        function saveMeeting() {
            const date = document.getElementById('meeting-date').value;
            const notes = document.getElementById('notes').value;
            const members = Array.from(document.querySelectorAll('.name-item.selected')).map(item => item.textContent);

            if (date && selectedGroup && members.length > 0) {
                const meeting = {
                    group: selectedGroup,
                    date: date,
                    members: members,
                    notes: notes,
                    enteredBy: currentUser,
                    enteredAt: new Date(loginTime).toLocaleString()
                };

                const month = new Date(date).getMonth() + 1;
                meetings[month].push(meeting);
                alert('Srečanje shranjeno!');
                closeMeetingModal();
                showMeetingsPage(month);
            } else {
                alert('Prosimo, izpolnite vse podatke.');
            }
        }

        function viewMeeting(index, month) {
            const meeting = meetings[month][index];
            const meetingDetails = `
                <div class="event-info">
                    <strong>Skupina: </strong>${meeting.group}<br>
                    <strong>Datum: </strong>${meeting.date}<br>
                    <strong>Prisotni: </strong>${meeting.members.join(", ")}<br>
                    <strong>Opombe: </strong>${meeting.notes}<br>
                    <strong>Kdo je vpisal: </strong>${meeting.enteredBy}<br>
                    <strong>Datum vnosa: </strong>${meeting.enteredAt}
                </div>
                <button class="event-delete-btn" onclick="deleteMeeting(${index}, ${month})">Izbriši srečanje</button>
            `;
            document.getElementById('meetings-list').innerHTML = meetingDetails;
        }

        function deleteMeeting(index, month) {
            meetings[month].splice(index, 1);
            alert('Srečanje je bilo izbrisano!');
            showMeetingsPage(month);
        }
    </script>
</body>
</html>








